<!DOCTYPE html>
<html class="no-js" lang="en-US" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
    
    {{ partial "header.html" . }}

    <body lang="en">

        {{ partial "navbar.html" . }}

        <h2 id="title">{{ .Title }}</h2>
        
        <article id="content">
            <div class="columns">
                <div class="column">
                    {{ .Content }}
                </div>
                <div class="column">
                    <track></track>
                </div>
        </article>

				

        {{ partial "footer.html" . }}

        {{ if (or (isset .Aliases 0) (isset .Params "tracks") ) }} 
            <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
            <script src="/js/track-store.js"></script>
            <script src="/js/track.js"></script>
            <script src="/js/track-info.js"></script>
            <script src="/js/track-map.js"></script>
            <script src="/js/track-elevation.js"></script>
            <script lang="javascript">
                
                {{ if isset .Params "tracks" }}
                    var trackIds = {{ .Params.tracks }};
                    riot.mount('track', { 'trackIds' : trackIds });
                {{ else }}
                    var trackId = '{{ range first 1 .Aliases }}{{ substr . 1 }}{{ end }}';
                    riot.mount('track', { 'trackId' : trackId });
                {{ end }}
            </script>
        {{ end}}
        
    </body>
</html>